<?xml version="1.0" encoding="UTF-8"?>
<PGVReport>
<!-- $Id$ -->
	<PGVRTitle><PGVRvar var="i18n::translate('Cemetery Report')" /></PGVRTitle>
	<PGVRDescription>Prints a list of individuals burial places matching specific cemetery criteria</PGVRDescription>
	<PGVRInput name="deathplace" lookup="PLAC" type="text"><PGVRvar var="i18n::translate('Burial Place contains')" /> </PGVRInput>
	<PGVRInput name="sortby" type="select" default="NAME" options="none=>i18n::translate('None')|ID=>i18n::translate('ID number')|NAME=>i18n::translate('Name')|DEAT:DATE=>i18n::translate('Date of death')"><PGVRvar var="i18n::translate('Sort by')" /></PGVRInput>
	<PGVRInput name="adlist" type="select" default="none" options="none=>i18n::translate('None')|_MARNM=>i18n::translate('Married Name')|HUSB=>i18n::translate('Husband')"><PGVRvar var="i18n::translate('Name List')" /></PGVRInput>
	<PGVRInput name="pageSize" type="select" default="A4" options="letter=>i18n::translate_c('paper size','Letter')|A3=>i18n::translate_c('paper size', 'A3')|A4=>i18n::translate_c('paper size','A4')|legal=>i18n::translate_c('paper size','Legal')"><PGVRvar var="i18n::translate('Page size')" /></PGVRInput>
	<PGVRInput name="fonts" type="select" default="dejavusans" options="arialunicid0=>i18n::translate_c('font name', 'Arial')|dejavusans=>i18n::translate_c('font name', 'DejaVu')|helvetica=>i18n::translate_c('font name', 'Helvetica')"><PGVRvar var="i18n::translate('Font')"/></PGVRInput>

	<!-- Header -->
	<PGVRStyle name="header" font="$fonts" size="16" style="b" />
	<!-- Page numbers text -->
	<PGVRStyle name="pagenum" font="$fonts" size="8"/>
	<!-- Standard text -->
	<PGVRStyle name="text" font="$fonts" size="9"/>
	<!-- Column labels -->
	<PGVRStyle name="label" font="$fonts" size="10" style="b" />
	<!-- Generated by style - required style name by the generator -->
	<PGVRStyle name="genby" font="$fonts" size="8" />
	<!-- Date text -->
	<PGVRStyle name="date" font="$fonts" size="8"/>

	<!-- landscape orientation -->
	<PGVRSetVar name="namewidth" value="185"/>
	<PGVRSetVar name="datewidth" value="95"/>
	<PGVRSetVar name="cemewidth" value="150"/>
	<PGVRSetVar name="placewidth" value="175"/>

	<PGVRDoc pageSize="$pageSize" orientation="landscape">
		<PGVRHeader>
			<PGVRCell align="center" height="20" newline="1" style="header"><PGVRvar var="i18n::translate('Cemetery Report')" /></PGVRCell>
			<PGVRCell align="rightrtl" newline="1" style="pagenum"><PGVRvar var="i18n::translate('Page')" /> <PGVRPageNum /> <PGVRvar var="i18n::translate('of')" /> <PGVRTotalPages /></PGVRCell>

			<PGVRSetVar name="fill" value="" />
			<PGVRif condition="($sortby=='NAME') or ($sortby=='ID')"><PGVRSetVar name="fill" value="#AAAAAA" /></PGVRif>
			<PGVRTextBox bgcolor="$fill" border="1" width="$namewidth">
				<PGVRText style="label"><PGVRvar var="i18n::translate('Name')" /></PGVRText>
			</PGVRTextBox>

			<PGVRSetVar name="fill" value="" />
			<PGVRif condition="$sortby=='DEAT:DATE'"><PGVRSetVar name="fill" value="#AAAAAA" /></PGVRif>
			<PGVRTextBox bgcolor="$fill" border="1" width="$datewidth">
				<PGVRText style="label"><PGVRvar var="i18n::translate('Death Date')" /></PGVRText>
			</PGVRTextBox>
			<!-- should print and sort by burial date -->

			<PGVRSetVar name="fill" value="" />
			<PGVRif condition="$sortby=='BURI'"><PGVRSetVar name="fill" value="#AAAAAA" /></PGVRif>
			<PGVRTextBox bgcolor="$fill" border="1" width="$cemewidth">
				<PGVRText style="label"><PGVRvar var="i18n::translate('Cemetery')" /></PGVRText>
			</PGVRTextBox>

			<PGVRSetVar name="fill" value="" />
			<PGVRif condition="$sortby=='PLAC'"><PGVRSetVar name="fill" value="#AAAAAA" /></PGVRif>
			<PGVRTextBox bgcolor="$fill" border="1" width="$placewidth">
				<PGVRText style="label"><PGVRvar var="i18n::translate('Place')" /></PGVRText>
			</PGVRTextBox>

			<PGVRTextBox border="1" newline="1">
				<PGVRText style="label"><PGVRvar var="i18n::translate('Note')" /></PGVRText>
			</PGVRTextBox>
		</PGVRHeader>
		<PGVRBody>
			<PGVRList list="individual" filter1="BURI:PLAC CONTAINS $deathplace" sortby="$sortby">
				<PGVRCell style="text" width="$namewidth"><PGVRGetPersonName id="" /> - (<PGVRGedcomValue tag="@id" />)
					<PGVRif condition="$adlist=='_MARNM'">
						<PGVRRepeatTag tag="NAME:_MARNM">
							<br /><PGVRGedcomValue tag="_MARNM" />
						</PGVRRepeatTag>
					</PGVRif>
					<PGVRif condition="($adlist=='HUSB') and (@SEX=='F')">
						<PGVRRepeatTag tag="FAMS">
							<PGVRGedcom id="@FAMS:@HUSB">
								<br /><PGVRGetPersonName id="" />
							</PGVRGedcom>
						</PGVRRepeatTag>
					</PGVRif>
				</PGVRCell>
				<PGVRCell style="text" width="$datewidth"><PGVRGedcomValue tag="DEAT:DATE" newline="1" /></PGVRCell>
				<PGVRCell style="text" width="$cemewidth"><PGVRGedcomValue tag="BURI:CEME" /></PGVRCell>
				<PGVRCell style="text" width="$placewidth"><PGVRGedcomValue tag="BURI:PLAC" /></PGVRCell>
				<PGVRCell newline="1" style="text"><PGVRGedcomValue tag="BURI:NOTE" /></PGVRCell>
			</PGVRList>
			<PGVRCell align="rightrtl" newline="1" style="label"><br /><PGVRvar var="i18n::translate('Total individuals')" />: <PGVRListTotal /></PGVRCell>
		</PGVRBody>
		<PGVRFooter>
			<PGVRCell align="rightrtl" newline="1" style="date"><PGVRNow /></PGVRCell>
		</PGVRFooter>
	</PGVRDoc>
</PGVReport>
