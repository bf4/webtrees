<?php
/**
  *  webtrees

  *  Version 1.0
  *  Copyright (C) 2010 webtrees Development Team. All rights reserved.
  *
  *  This and other information can be found on line at
  *  http://webtrees.net
  *
  *  The installation instructions can also be found in the wiki at:
  *  http://webtrees.net/mediawiki/index.php/Main_Page
  *
  *  # $Id$
 */
?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>webtrees ReadMe file</title>
<style type="text/css">
	body { color: black; background-color: white; font: 14px tahoma arial helvetica sans-serif;	padding:10px; }
	a {color: #81A9CB; font-weight: normal; text-decoration: none;}
	a:hover {color: #81A9CB;}
	h1 {color: #81A9CB; font-weight:normal;}
	h3 { font-size:16px; font-weight:bold; margin: 14px 0; }
	li {line-height:150%;}
	.back {color: #81A9CB; float:right;}
</style>
</head><body>
<a name="top"><h1><b>webtrees</b> ReadMe File</h1></a>
<p><b>Note: </b> This information is also available at <a href="http://wiki.webtrees.net/">the <b>webtrees</b> WIKI</a></p>
<h2>CONTENTS</h2>
<ol>
	<li><a href="#licence">LICENSE</a></li>
	<li><a href="#intro">INTRODUCTION</a></li>
	<li><a href="#system">SYSTEM REQUIREMENTS</a></li>
	<li><a href="#install">INSTALLATION</a></li>
	<li><a href="#upgrade">UPGRADING</a></li>
	<li><a href="#gedcom">GEDCOM (family tree) FILES</a></li>
	<li><a href="#security">SECURITY</a></li>
	<li><a href="#backup">BACKUP</a></li>
	<li><a href="#convert">CONVERTING from PHPGEDVIEW</a></li>
</ol>
<hr width="100%">
<!-- LICENSE -->
<div style="float:left;"><a name="licence"><h3>LICENSE</h3></a></div><div class="back"><a href="#top">back to top</a></div><div style="clear:both;"></div>
 * <b>webtrees: Web based Family History software</b><br />
 * Copyright (C) 2010 webtrees development team.<br />
 *<br />
 * Derived from PhpGedView - Copyright (C) 2002 to 2010  PGV Development Team.<br />
 * <br />
 * All rights reserved.
<br /><br />
This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.
<br /><br />
This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.
<br /><br />
See the file GPL.txt included with this software for more detailed licensing information.
<br /><br />
<hr width="100%">
<!-- INTRODUCTION -->
<div style="float:left;"><a name="intro"><h3>INTRODUCTION</h3></a></div><div class="back"><a href="#top">back to top</a></div><div style="clear:both;"></div>
<b>webtrees</b> is the web's leading online collaborative genealogy application.
<ul>
	<li>It works from standard GEDCOM files, and is therefore compatible with every major desktop application.</li>
	<li>It aims to to be efficient and effective by using the right combination of third-party tools, design techniques and open standards.</li>
</ul>
<b>webtrees</b> allows you to view and edit your genealogy on your website. It has full editing capabilities, full privacy functions, and supports multimedia like photos and document images. As an on line program, it fosters extended family participation and good ancestral recording habits, as it simplifies the process of collaborating with others working on your family lines. Your latest information is always on your web site and available for others to see, defined by viewing rules you set. For more information and to see working demos, visit <a href="http://webtrees.net/">http://webtrees.net/ </a>. 
<br /><br />
<b>webtrees</b> is Open Source software that has been produced by people from many countries freely donating their time and talents to the project. All service, support, and future development is dependent on the time developers are willing to donate to the project, often at the expense of work, recreation, and family. Beyond the few donations received from users, developers receive no compensation for the time they spend working on the project. There is also no outside source of revenue to support the project. Please consider these circumstances when making support requests and consider volunteering your own time and skills to make the project even stronger and better.
<br /><br />
<hr width="100%">
<!-- SYSTEM REQUIREMENTS -->
<div style="float:left;"><a name="system"><h3>SYSTEM REQUIREMENTS</h3></a></div><div class="back"><a href="#top">back to top</a></div><div style="clear:both;"></div>
To install <b>webtrees</b>, you need:
<br />
<ul>
	<li>A webserver. Apache and IIS are the most common types. There are no requirements to use a specific type or version.</li>
	<li>Approximately 65MB of disk space for the application files, plus whatever is needed for your multi-media files, GEDCOM files and database.</li>
	<li>PHP 5.2.3 or later. Note that many web hosts offer *both* PHP4 and PHP5, typically with PHP4 as the default. If this is the case, you can usually switch between the two using a control panel or a configuration file. Refer to your web host&#39;s support documentation for details.</li>
	 <ul>
		<li>The PHP/PDO library for MySQL. This is a server configuration option. It is enabled by default on most hosts. See <a href="http://php.net/pdo">http://php.net/pdo</a></li>
		<li>PHP should be configured to allow sufficient server resources (memory and execution time) for the size of your system. Typical requirements are:</li>
			<ul>
				<li>Small systems (500 individuals): 16-32MB, 10-20 seconds</li>
				<li>Medium systems (5000 individuals): 32-64MB, 20-40 seconds</li>
				<li>Large systems (50000 individuals): 64-128MB, 40-80 seconds</li>
			</ul>
	</ul>
	<li>MySQL 5.0.13 or later. <b>webtrees</b> can share a single database with other applications, by choosing a unique table prefix during configuration.</li>
	</ul>
<hr width="100%">
<!-- INSTALLATION -->
<div style="float:left;"><a name="install"><h3>INSTALLATION</h3></a></div><div class="back"><a href="#top">back to top</a></div><div style="clear:both;"></div>
Once you have checked the <a href="#system">SYSTEM REQUIREMENTS</a> above, installing webtrees is really easy.
<br /><br />
<ol>
	<li>Download the latest version of <b>webtrees</b> available from <a href="http://launchpad.net/webtrees">http://launchpad.net/webtrees</a></li>
	<li>Unzip the files and upload them to an empty directory on your web server.</li>
	<li>Open your web browser and type the URL for your <b>webtrees</b> site (for example, http://www.yourserver.com/webtrees) into the address bar.</li>
	<li>The <b>webtrees</b> setup wizard will start automatically. This will ask you a few questions about your server, and then generate a configuration file for you. At the end of the setup you will be asked to upload the configuration file to the webserver. This is a security check to make sure only the site owner can configure it.</li>
</ol>
<p>That's it!</p>
<p>However, before you can use <b>webtrees</b>, you need one (or possibly more) GEDCOM (family tree) files. If you have been doing your research using a desktop program such as Family Tree Maker, you can use it's "save as GEDCOM" function to create a GEDCOM file. If you are starting from scratch, then <b>webtrees</b> can create a GEDCOM file for you. Alternatively, you can import data directly from PhpGedView.
<br /><br />
So, after installation, you'll be directed to the GEDCOM (family tree) administration page, where you'll need to select one of the following options:
<ol>
	<li>On successful completion of all steps you will be taken to the GEDCOM (family tree) administration page where you can:</li>
	<ul>
		<li>UPLOAD a GEDCOM file from your local machine</li>
		<li>IMPORT a GEDCOM file from your server, (if your GEDCOM file is too large to upload, you can copy it to the webtrees/data folder, and load it from there)</li>
		<li>CREATE a new, empty GEDCOM file</li>
		<li>TRANSFER your existing PGV data straight into <b>webtrees</b>, using the PGV-to-<b>webtrees</b> wizard described in section 9 below: <a href="#convert">CONVERTING from PHPGEDVIEW</a></li>
	</ul>
</ol>
There are <i>lots</i> of configuration options. You'll probably want to review the privacy settings first. Don't worry too much about all the other options - the defaults are good for most people. If you get stuck, there's lots of built-in help and you can get friendly advice from the <a href="http://webtrees.net/forums">help</a> forum.
<hr width="100%">
<!-- UPGRADING -->
<div style="float:left;"><a name="upgrade"><h3>UPGRADING</h3></a></div><div class="back"><a href="#top">back to top</a></div><div style="clear:both;"></div>
Upgrading <b>webtrees</b> is quick and easy. You are recommened to upgrade whenever a new version is available. 
<ol>
	<li>Now would be a good time to make a <a href="#backup">backup</a>. </li>
	<li>Download the latest version of <b>webtrees</b> available from <a href="http://launchpad.net/webtrees">http://launchpad.net/webtrees</a></li>
	<li>Unzip the .ZIP file, and upload the files to your web server, overwriting the existing files.</li>
</ol>
<p><i>NOTE for Macintosh users. Step 3 assumes you are using a copy tool that merges directories rather than replaces them. (Merge is standard behaviour on Windows and Linux.) If you use the Macintosh Finder or other similar tool to perform step 3, it will replace  your configuration, media and other directories with the empty/default ones from the installation. This would be very bad (but you did take a backup in step 1, didn't you!). Futher details and recommendations for suitable tools can be found by searching <a href="http://google.com">google.com</a></i></p>
If you have any problems or questions, help is available on the <a href="http://webtrees.net/forums">webtrees forum</a>.
<hr width="100%">
<!-- GEDCOM FILES -->
<div style="float:left;"><a name="gedcom"><h3>GEDCOM (family tree) FILES</h3></a></div><div class="back"><a href="#top">back to top</a></div><div style="clear:both;"></div>
When you IMPORT or UPLOAD a GEDCOM (family tree) file in <b>webtrees</b> the data from the file is all transferred to the database tables. The file itself is no longer used or required by <b>webtrees</b>
<br />
<ul>
	<li>If you use IMPORT, your file remains in the webtrees/data folder you first copied it to, and will not be changed by any subsequent editing of the <b>webtrees</b> data.</li>
	<li>If you use UPLOAD, the file is left in its original location, and again remains untouched.</li>
</ul>
<br />
When or if you change your genealogy data outside of <b>webtrees</b>, it is not necessary to delete your GEDCOM file or database from <b>webtrees</b> and start over.  Follow these steps to update a GEDCOM that has already been imported:
<ol>
	<li>Decide if you want to IMPORT or UPLOAD your new GEDCOM file.</li>
		<ul>
			<li>Use UPLOAD if your GEDCOM file is smaller than your server's PHP file upload limit (often 2MB).The new file can have any name you choose.</li>
			<li>Use IMPORT for larger files. In this case you need to use FTP to first copy your file to the webtrees/data folder. Either copy over the existing file, or use a different name.</li>
		</ul>
	<li> Go to your <b>webtrees</b> GEDCOM configuration page. On the line relating to this GEDCOM file click either IMPORT or UPLOAD.</li>
	<li>Take careful note of the media items option (<i>"If you have created media objects in webtrees, and have edited your gedcom off-line using a program that deletes media objects, then tick this box to merge the current media objects with the new GEDCOM."</i>) In most cases you should leave this box <b>UNCHECKED</b>.</li>
	<li>Click "SAVE". <b>webtrees</b> will validate the GEDCOM again before importing.</li>
	<li><strike>You can use a ZIP file to upload the GEDCOM, but only if you use the UPLOAD option. The file name can be anything you choose.</strike> NOTE: The ability to upload ZIP files does not currently work. If your GEDCOM file is too large to upload, you should use the IMPORT option.</li>
</ol>
<hr width="100%">
<!-- SECURITY -->
<div style="float:left;"><a name="security"><h3>SECURITY</h3></a></div><div class="back"><a href="#top">back to top</a></div><div style="clear:both;"></div>
<b>Security in <i>webtrees</i> means ensuring your site is safe from unwanted intrusions, hacking, or access to data and configuration files. The developers of <i>webtrees</i> regard security as an extremely important part of its development and have made every attempt to ensure your data is safe.</b>
<br /><br />
The area most at risk of intrusion would be the /data folder that contains your config.ini.php file, and various temporary files. If you are concerned there may be a risk there is a very simple test you can do: try to fetch <b>config.ini.php</b> by typing <b>http:// </b><i>url to your site</i><b> /data/config.ini.php</b> in your web browser. 
<br /><br />
The most likely result is an "access denied" message like this:
<table border="1px" cellpadding="5px" cellspacing="0">
	<tr>
		<td>
			<font size="4"><b>Forbidden</b></font><br /><br />You don't have permission to access /data/xxxx.ged on this server.
		</td>
	</tr>
</table>
<br />
This indicates that the protection built into <b>webtrees</b> is working, and no further action is required.
<br /><br />
In the unlikely event you do fetch the file (you will just see a semicolon), then that protection is not working on your site and you should take some further action.
<br /><br />
If your server runs PHP in CGI mode, then change the permission of the /data directory to 700 instead of 777. This will block access to the httpd process, while still allowing access to PHP scripts.
<br /><br />
This will work for perhaps 99% of all users. Only the remaining 1% should consider the most complex solution, moving the /data/ directory out of accessible web space. (<b><i>Note:</i></b> In many shared hosting environments this is not an option anyway.
<br /><br /><br />
If you do find it necessary, following is an example of the process required:
<br /><br />
If your home directory is something like <b>/home/username</b>,
and the root directory for your web site is <b>/home/username/public_html</b>,
and you have installed webtrees in the <b>public_html/webtrees</b> directory,
then you would create a new <b>data</b> folder in your home directory at the same level as your public_html directory, such as <b>/home/username/private/data</b>, and place your GEDCOM (family tree) file there.

Then change the <b>Data file directory</b> setting on the Admin --> Site Administration page from the default <b>data/</b> to the new location <b>/home/username/private/data</b>

You will have <b>two</b> data directories:
<ul>
	<li>[path to webtrees]/data - just needs to contain config.ini.php</li>
	<li>/home/username/private/data - contains everything else</li>
</ul>
<hr width="100%">
<!-- BACKUP -->
<div style="float:left;"><a name="backup"><h3>BACKUP</h3></a></div><div class="back"><a href="#top">back to top</a></div><div style="clear:both;"></div>
Backups are good. Whatever problem you have, it can always be fixed from a good backup.
<br /><br />
To make a backup of webtrees, you need to make a copy of the following
<ol>
   <li>The files in the webtrees/data directory.</li>
   <li>The files in the webtrees/media directory.</li>
   <li>The tables in the database. Freely available tools such as phpMyAdmin allow you to do this in one click.</li> 
</ol>
Remember that most web hosting services do NOT backup your data, and this is your responsibility.
<hr width="100%">
<!-- CONVERSION -->
<div style="float:left;"><a name="convert"><h3>CONVERTING from PHPGEDVIEW</h3></a></div><div class="back"><a href="#top">back to top</a></div><div style="clear:both;"></div>
If you are moving to <b>webtrees</b> from an existing PhpGedView ("PGV") setup, and your PGV install meets certain requirements, <b>webtrees</b> has provided a "wizard" to help make the transfer of the majority of your data a relatively quick and painless operation. See exceptions noted below. Please note that we have designed this wizard so as to not disturb your existing PGV installation, leaving all those settings, data and your website intact and fully functional.
<br /><br />
The requirements are:
<ul>
	<li>The PGV database and index directory must be on the same server as <b>webtrees</b>;</li>
	<li>Your <b>webtrees</b> MySQL database username and password must either be the same as your PGV username and password, or if you created a new user for <b>webtrees</b>, that new user must also have full privileges to access your PGV database;</li>
	<li>PGV must be version 4.2.3, or any SVN up to #6976 (schema versions 10-14 are supported, later versions will probably work too, provided the data structures haven't changed); </li>
	<li>All changes in PGV must be accepted (as pending edits will not be transfered)</li>
	<li>All existing PGV users must have an email address, and it must be unique to that user (PGV allows users to delete their email address, or have the same email address as other users;  <b>webtrees</b> requires that all users have their own unique email address)</li>
</ul>
<p><b>Important Note:</b> This transfer wizard is not able to assist with moving media items. You will need to set up and move or copy your media configuration and objects separately after the transfer wizard is finished. If you use the media firewall in PGV and a directory outside of PGV, then duplicating the media configuration in <b>webtrees</b> media folder, and setting the media firewall directory to your PGV folder will make your media available to <b>webtrees</b>.</p>
<p>After the transfer is complete, you should check your GEDCOM configuration and privacy settings. Due to differences in internal data formats, the following settings are not yet transfered: custom privacy restrictions, block configuration, FAQs, and HTML blocks.  We hope to add these to the wizard in a future release.</p>
<p>The transfer wizard is accessed in <b>webtrees</b> from the bottom of the "Manage GEDCOM's" page to which you will be automatically directed once you have completed the initial <b>webtrees</b> installation steps (section 4 above: <a href="#install">INSTALLATION</a>).This option is only available on a new, empty <b>webtrees</b> installation; once you have created a GEDCOM (family tree) or added user accounts, it will no longer be available.</p>
</body>
</html>
